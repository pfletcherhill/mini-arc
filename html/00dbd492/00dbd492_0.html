<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>00dbd492</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      main {
        display: block;
      }
      .pair {
        display: flex;
      }
      .container {
        position: relative;
        height: 30px;
        width: 30px;
        background-color: #c2c0c0;
        margin: 0px;
        padding: 0px;
      }
      .grid {
        position: relative;
        background-color: #111111;
        max-height: 30px;
        max-width: 30px;
      }
    </style>
  </head>
  <body>
    <main>
      <div class="pair">
        <div class="container">
          <div id="input-1" class="grid"></div>
        </div>
        <div class="container">
          <div id="output-1" class="grid"></div>
        </div>
      </div>
      <div class="pair">
        <div class="container">
          <div id="input-2" class="grid"></div>
        </div>
        <div class="container">
          <div id="output-2" class="grid"></div>
        </div>
      </div>
      <div class="pair">
        <div class="container">
          <div id="input-3" class="grid"></div>
        </div>
        <div class="container">
          <div id="output-3" class="grid"></div>
        </div>
      </div>
    </main>

    <script>
      const colors = [
        "#111111", // black
        "#1E93FF", // blue
        "#F93C31", // red
        "#4FCC30", // green
        "#FFDC00", // yellow
        "#E6E6E6", // grey
        "#E53AA3", // magenta
        "#FF851B", // orange
        "#87D8F1", // light blue
        "#921231", // maroon
      ];

      const numPairs = Math.floor(Math.random() * 4) + 2;
      const borderColor = colors[Math.floor(Math.random() * colors.length)];
      const sizeColorMap = new Map();

      const availableColors = colors.filter(color => color !== borderColor && color !== "#111111");

      for (let size = 5; size <= 11; size += 2) {
        const randomColor = availableColors[Math.floor(Math.random() * availableColors.length)];
        sizeColorMap.set(size, randomColor);
        availableColors.splice(availableColors.indexOf(randomColor), 1);
      }

      for (let i = 1; i <= numPairs; i++) {
        const inputGrid = document.getElementById(`input-${i}`);
        const outputGrid = document.getElementById(`output-${i}`);

        const gridWidth = Math.floor(Math.random() * 21) + 10;
        const gridHeight = Math.floor(Math.random() * 21) + 10;

        inputGrid.style.width = `${gridWidth}px`;
        inputGrid.style.height = `${gridHeight}px`;
        outputGrid.style.width = `${gridWidth}px`;
        outputGrid.style.height = `${gridHeight}px`;

        const numSquares = Math.floor(Math.random() * 5) + 1;

        for (let j = 0; j < numSquares; j++) {
          const squareSize = Math.floor(Math.random() * 4) * 2 + 5;
          const square = document.createElement('div');
          square.style.width = `${squareSize}px`;
          square.style.height = `${squareSize}px`;
          square.style.border = `1px solid ${borderColor}`;
          square.style.position = 'absolute';

          const dot = document.createElement('div');
          dot.style.width = '1px';
          dot.style.height = '1px';
          dot.style.backgroundColor = borderColor;
          dot.style.position = 'absolute';
          dot.style.left = `${Math.floor(squareSize / 2)}px`;
          dot.style.top = `${Math.floor(squareSize / 2)}px`;

          let overlaps = true;
          while (overlaps) {
            const left = Math.floor(Math.random() * (gridWidth - squareSize + 1));
            const top = Math.floor(Math.random() * (gridHeight - squareSize + 1));
            square.style.left = `${left}px`;
            square.style.top = `${top}px`;

            overlaps = false;
            inputGrid.querySelectorAll('div').forEach(existingSquare => {
              const rect1 = square.getBoundingClientRect();
              const rect2 = existingSquare.getBoundingClientRect();
              if (
                rect1.left < rect2.right &&
                rect1.right > rect2.left &&
                rect1.top < rect2.bottom &&
                rect1.bottom > rect2.top
              ) {
                overlaps = true;
              }
            });
          }

          square.appendChild(dot);
          inputGrid.appendChild(square.cloneNode(true));

          const outputSquare = square.cloneNode(true);
          outputSquare.style.backgroundColor = sizeColorMap.get(squareSize);
          outputGrid.appendChild(outputSquare);
        }
      }
    </script>
  </body>
</html>