<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>00576224</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      main {
        display: block;
      }
      .pair {
        display: flex;
      }
      .container {
        position: relative;
        height: 30px;
        width: 30px;
        background-color: #c2c0c0;
        margin: 0px;
        padding: 0px;
      }
      .grid {
        position: relative;
        background-color: #111111;
        max-height: 30px;
        max-width: 30px;
      }
    </style>
  </head>
  <body>
    <main>
      <!-- Pairs will be appended here by the script -->
    </main>

    <script>
      const colors = [
        "#1E93FF", // blue
        "#F93C31", // red
        "#4FCC30", // green
        "#FFDC00", // yellow
        "#E6E6E6", // grey
        "#E53AA3", // magenta
        "#FF851B", // orange
        "#87D8F1", // light blue
        "#921231", // maroon
      ];

      function getRandomInt(min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min + 1)) + min;
      }

      function createGrid(rows, cols) {
        const grid = [];
        const numColors = getRandomInt(2, 3);
        const pickedColors = [];
        for (let i = 0; i < numColors; i++) {
          pickedColors.push(colors[getRandomInt(0, colors.length - 1)]);
        }

        for (let r = 0; r < rows; r++) {
          const row = [];
          for (let c = 0; c < cols; c++) {
            row.push(pickedColors[getRandomInt(0, pickedColors.length - 1)]);
          }
          grid.push(row);
        }
        return grid;
      }

      function repeatGrid(grid, xRatio, yRatio) {
        const repeatedGrid = [];
        const originalRows = grid.length;
        const originalCols = grid[0].length;

        for (let r = 0; r < originalRows * yRatio; r++) {
          const row = [];
          for (let c = 0; c < originalCols * xRatio; c++) {
            row.push(grid[r % originalRows][c % originalCols]);
          }
          repeatedGrid.push(row);
        }
        return repeatedGrid;
      }

      function createDivsFromGrid(grid, id) {
        const div = document.createElement("div");
        div.id = id;
        div.className = "grid";
        const cellSize = 30 / grid.length;
        div.style.display = "grid";
        div.style.gridTemplateColumns = `repeat(${grid[0].length}, ${cellSize}px)`;

        grid.forEach(row => {
          row.forEach(color => {
            const cell = document.createElement("div");
            cell.style.width = `${cellSize}px`;
            cell.style.height = `${cellSize}px`;
            cell.style.backgroundColor = color;
            div.appendChild(cell);
          });
        });
        return div;
      }

      const numPairs = getRandomInt(2, 5);

      for (let i = 1; i <= numPairs; i++) {
        const inputRows = getRandomInt(2, 5);
        const inputCols = getRandomInt(2, 5);
        const tileXRatio = getRandomInt(2, 3);
        const tileYRatio = getRandomInt(2, 3);

        const inputGrid = createGrid(inputRows, inputCols);
        const outputGrid = repeatGrid(inputGrid, tileXRatio, tileYRatio);

        const pairDiv = document.createElement("div");
        pairDiv.className = "pair";

        const inputContainer = document.createElement("div");
        inputContainer.className = "container";
        inputContainer.appendChild(createDivsFromGrid(inputGrid, `input-${i}`));

        const outputContainer = document.createElement("div");
        outputContainer.className = "container";
        outputContainer.appendChild(createDivsFromGrid(outputGrid, `output-${i}`));

        pairDiv.appendChild(inputContainer);
        pairDiv.appendChild(outputContainer);

        document.querySelector("main").appendChild(pairDiv);
      }
    </script>
  </body>
</html>