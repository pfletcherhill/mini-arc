<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>009d5c81</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      main {
        display: block;
      }
      .pair {
        display: flex;
      }
      .container {
        position: relative;
        height: 30px;
        width: 30px;
        background-color: #c2c0c0;
        margin: 0px;
        padding: 0px;
      }
      .grid {
        position: relative;
        background-color: #111111;
        max-height: 30px;
        max-width: 30px;
      }
    </style>
  </head>
  <body>
    <main>
      <div class="pair">
        <div class="container">
          <div id="input-1" class="grid"></div>
        </div>
        <div class="container">
          <div id="output-1" class="grid"></div>
        </div>
      </div>
      <div class="pair">
        <div class="container">
          <div id="input-2" class="grid"></div>
        </div>
        <div class="container">
          <div id="output-2" class="grid"></div>
        </div>
      </div>
      <div class="pair">
        <div class="container">
          <div id="input-3" class="grid"></div>
        </div>
        <div class="container">
          <div id="output-3" class="grid"></div>
        </div>
      </div>
    </main>

    <script>
      const colors = [
        "#111111", // black
        "#1E93FF", // blue
        "#F93C31", // red
        "#4FCC30", // green
        "#FFDC00", // yellow
        "#E6E6E6", // grey
        "#E53AA3", // magenta
        "#FF851B", // orange
        "#87D8F1", // light blue
        "#921231", // maroon
      ];

      const numPairs = Math.floor(Math.random() * 4) + 2;
      const main = document.querySelector("main");

      for (let i = 4; i <= numPairs; i++) {
        const pairDiv = document.createElement("div");
        pairDiv.className = "pair";

        const inputDiv = document.createElement("div");
        inputDiv.className = "container";
        const inputGrid = document.createElement("div");
        inputGrid.id = `input-${i}`;
        inputGrid.className = "grid";
        inputDiv.appendChild(inputGrid);
        pairDiv.appendChild(inputDiv);

        const outputDiv = document.createElement("div");
        outputDiv.className = "container";
        const outputGrid = document.createElement("div");
        outputGrid.id = `output-${i}`;
        outputGrid.className = "grid";
        outputDiv.appendChild(outputGrid);
        pairDiv.appendChild(outputDiv);

        main.appendChild(pairDiv);
      }

      const colorMapping = {};
      const usedColors = [0];

      for (let i = 0; i < 3; i++) {
        let color;
        do {
          color = Math.floor(Math.random() * 10);
        } while (usedColors.includes(color));
        usedColors.push(color);

        const pattern = [];
        for (let j = 0; j < 3; j++) {
          const row = [];
          for (let k = 0; k < 3; k++) {
            row.push(Math.random() < 0.5 ? 1 : 0);
          }
          pattern.push(row);
        }
        colorMapping[color] = pattern;
      }

      for (let i = 1; i <= numPairs; i++) {
        const inputGrid = document.getElementById(`input-${i}`);
        const outputGrid = document.getElementById(`output-${i}`);

        const size = Math.floor(Math.random() * 19) + 12;
        inputGrid.style.width = `${size}px`;
        inputGrid.style.height = `${size}px`;
        outputGrid.style.width = `${size}px`;
        outputGrid.style.height = `${size}px`;

        const smallColor = Math.floor(Math.random() * 9) + 1;
        const largeColor = Math.floor(Math.random() * 9) + 1;

        const smallShape = document.createElement("div");
        smallShape.style.width = "3px";
        smallShape.style.height = "3px";
        smallShape.style.backgroundColor = colors[smallColor];
        smallShape.style.position = "absolute";
        smallShape.style.left = `${Math.floor(Math.random() * (size - 3))}px`;
        smallShape.style.top = `${Math.floor(Math.random() * (size - 3))}px`;
        inputGrid.appendChild(smallShape);

        const largeShape = document.createElement("div");
        largeShape.style.width = "10px";
        largeShape.style.height = "10px";
        largeShape.style.backgroundColor = colors[largeColor];
        largeShape.style.position = "absolute";
        largeShape.style.left = `${Math.floor(Math.random() * (size - 10))}px`;
        largeShape.style.top = `${Math.floor(Math.random() * (size - 10))}px`;
        inputGrid.appendChild(largeShape);

        const outputShape = largeShape.cloneNode();
        const patternColor = usedColors[Math.floor(Math.random() * 3) + 1];
        const pattern = colorMapping[patternColor];

        for (let j = 0; j < 3; j++) {
          for (let k = 0; k < 3; k++) {
            if (pattern[j][k] === 1) {
              const pixel = document.createElement("div");
              pixel.style.width = "1px";
              pixel.style.height = "1px";
              pixel.style.backgroundColor = colors[patternColor];
              pixel.style.position = "absolute";
              pixel.style.left = `${j * 3 + 1}px`;
              pixel.style.top = `${k * 3 + 1}px`;
              outputShape.appendChild(pixel);
            }
          }
        }

        outputGrid.appendChild(outputShape);
      }
    </script>
  </body>
</html>