<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>009d5c81</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      main {
        display: block;
      }
      .pair {
        display: flex;
      }
      .container {
        position: relative;
        height: 30px;
        width: 30px;
        background-color: #c2c0c0;
        margin: 0px;
        padding: 0px;
      }
      .grid {
        position: relative;
        background-color: #111111;
        max-height: 30px;
        max-width: 30px;
      }
      .input-1,.output-1,.input-2,.output-2,.input-3,.output-3,.input-4,.output-4,.input-5,.output-5 {
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <main id="main-content">
      <div class="pair">
        <div class="container">
          <div id="input-1" class="grid input-1"></div>
        </div>
        <div class="container">
          <div id="output-1" class="grid output-1"></div>
        </div>
      </div>
    </main>

    <script>
      const colors = [
        "#111111", // black
        "#1E93FF", // blue
        "#F93C31", // red
        "#4FCC30", // green
        "#FFDC00", // yellow
        "#E6E6E6", // grey
        "#E53AA3", // magenta
        "#FF851B", // orange
        "#87D8F1", // light blue
        "#921231", // maroon
      ];

      const numPairs = Math.floor(Math.random() * 4) + 2;
      const mainContent = document.getElementById('main-content');

      for (let i = 2; i <= numPairs; i++) {
        const pair = document.createElement('div');
        pair.className = 'pair';
        
        const container1 = document.createElement('div');
        container1.className = 'container';
        const inputGrid = document.createElement('div');
        inputGrid.id = `input-${i}`;
        inputGrid.className = 'grid';
        container1.appendChild(inputGrid);

        const container2 = document.createElement('div');
        container2.className = 'container';
        const outputGrid = document.createElement('div');
        outputGrid.id = `output-${i}`;
        outputGrid.className = 'grid';
        container2.appendChild(outputGrid);

        pair.appendChild(container1);
        pair.appendChild(container2);
        mainContent.appendChild(pair);
      }

      function drawShape(grid, size, positions, color) {
        positions.forEach(pos => {
          const div = document.createElement('div');
          div.style.position = 'absolute';
          div.style.width = size + 'px';
          div.style.height = size + 'px';
          div.style.backgroundColor = color;
          div.style.left = pos[0] + 'px';
          div.style.top = pos[1] + 'px';
          grid.appendChild(div);
        });
      }

      function randomColor(exclude) {
        let color;
        do {
          color = colors[Math.floor(Math.random() * colors.length)];
        } while (color === exclude);
        return color;
      }

      const patterns = [
        { name: 'cross', positions: [[1, 0], [1, 1], [1, 2], [0, 1], [2, 1]], color: randomColor() },
        { name: 'plus', positions: [[1, 0], [1, 1], [1, 2], [0, 1], [2, 1]], color: randomColor() },
        { name: 'T', positions: [[1, 0], [1, 1], [1, 2], [0, 0]], color: randomColor() }
      ];

      for (let i = 1; i <= numPairs; i++) {
        const inputGrid = document.getElementById(`input-${i}`);
        const outputGrid = document.getElementById(`output-${i}`);

        const inputGridSize = [Math.floor(Math.random() * (30 - 12 + 1)) + 12, Math.floor(Math.random() * (30 - 12 + 1)) + 12];
        
        inputGrid.style.width = inputGridSize[0] + 'px';
        inputGrid.style.height = inputGridSize[1] + 'px';
        outputGrid.style.width = inputGridSize[0] + 'px';
        outputGrid.style.height = inputGridSize[1] + 'px';

        const patternIndex = Math.floor(Math.random() * patterns.length);
        const pattern = patterns[patternIndex];
        const threeByThreeColor = pattern.color;
        const tenByTenColor = randomColor(threeByThreeColor);

        drawShape(inputGrid, 3, pattern.positions, threeByThreeColor);
        drawShape(inputGrid, 10, [[0, 0]], tenByTenColor);

        outputColor = colors[patternIndex + 1];
        drawShape(outputGrid, 10, [[0, 0]], outputColor);
      }
    </script>
  </body>
</html>
