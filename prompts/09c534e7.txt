- For each pair, the input grid and the output grid should be the same size. Each should be between 15x15 px and 30x30px, though they do not have to be square.
- Pick a background color, which in most cases should be black. Make the background of all the grids that color.
- Pick a drawing color, which can be any color except the background color.
- For each input grid, draw 2-4 groups of rectangles. The rectangles should be from 3x3 px to 8x8 px in size, though they don't have to be square. For smaller input grids, there should be a bias towards smaller rectangles. Their background and border color should be the drawing color. Rectangles should not overlap and they should have at least 1px spacing between them. All the rectangles in each group should also be connected by lines, which are 1px in width and the same drawing color. Lines should either be horizontal or vertical. Lines are not allowed to be diagonal. For each line, one endpoint should intersect with one rectangle in the group and the other endpoint should intersect with another rectangle in the same group. The groups of rectangles should be laid out so that none of the rectangles nor their connecting lines overlap. It may make sense to draw rectangles in each group one-by-one, trying to fill the empty space in the grid and connecting each new rectangle with a line to the last rectangle drawn.
- Then for each input grid, add a 1px square to one random rectangle in each of the groups. The 1px square should be a different color for each group, except it should not use the drawing color. The 1px square should be in the interior of one of the rectangles, so at least 1px away from its edge.
- For each outpt grid, copy the content from the input grid exactly, including the positions and styling of all the groups of rectangles and lines. However, instead of adding a single 1px square to each group, fill in the background color on all the rectangles in each group with the color of the 1px square in that group. Keep a 1px border in the drawing color for all the rectangles though. So if one group of three rectangles, connected by two lines, had a single yellow dot in one of the rectangles in the input grid, in the output grid, the group would be the same except the three rectangles would have yellow backgrounds and a 1px border of the drawing color.
